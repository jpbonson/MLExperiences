<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_17) on Fri May 24 05:17:16 CEST 2013 -->
<title>Overview (Progress API)</title>
<meta name="date" content="2013-05-24">
<link rel="stylesheet" type="text/css" href="javadoc.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Overview (Progress API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li>Use</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-files/index-1.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>org.netbeans.api.progress/1 1.34 </em></div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<h1 class="title">Progress API<br/><span style='font-style:normal; font-size:medium; font-weight:normal; background-color:#ffffff;'><a href='http://wiki.netbeans.org/API_Stability#Official' target='_blank'>Official</a></span></h1>
</div>
<div class="header">
<p>See: <a href="#overview_description">Description</a></p>
</div>
<div class="contentContainer">
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Progress API table, listing packages, and an explanation">
<caption><span>Progress API</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Package</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="org/netbeans/api/progress/package-summary.html">org.netbeans.api.progress</a></td>
<td class="colLast">
<div class="block">This API allows to visualize tracking for progress of long lasting tasks.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="org/netbeans/api/progress/aggregate/package-summary.html">org.netbeans.api.progress.aggregate</a></td>
<td class="colLast">
<div class="block">Advanced progress manipulation, allowing to construct a single progress indication bar
from multiple, possibly independent sources.</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="footer"><a name="overview_description">
<!--   -->
</a>
<div class="subTitle">
<div class="block"><p>
  
<p>
  The module will be autoload.
   There is an api module and a pluggable implementation.
<a href="../org-netbeans-api-progress/index.html">Progress</a>   
  
</p>
 
</p>
<h3>What is New (see <a href="apichanges.html">all changes</a>)?</h3>
<ul>

         
<!--Search for dates that are later or equal to 1997-09-01 in
          .-->
<!--Checking date 2012-8-28 with count of newer 0--><!--year ok-->
<li>Aug 28 '12 <a href="apichanges.html#customDialogs"><code>ProgressUtils</code> class with <code>runOffEventThreadWithCustomDialogContent</code> and <code>runOffEventThreadWithProgressDialog</code> methods were added.</a>
<p>
<code>ProgressUtils</code> class with <code>runOffEventThreadWithCustomDialogContent</code> and <code>runOffEventThreadWithProgressDialog</code> methods were added. These methods allow movement of operations out of AWT thread, showing the waint cursor after one second and a dialog when task is not finished in a three seconds.
        </p>
</li>
<!--Checking date 2010-2-8 with count of newer 1--><!--year ok-->
<li>Feb 8 '10 <a href="apichanges.html#modalRunMethods">Modal progress dialogs</a>
<p>
            
<p>
                Added methods to ProgressUtils for invoking a runnable or
                similar with
                a modal dialog blocking the UI and showing progress:
                </p>
                
<ul>
                    
<li>
<code>public static void showProgressDialogAndRun(Runnable operation, String displayName)</code>
</li>
                    
<li>
<code>public static &lt;T&gt; T showProgressDialogAndRun(final ProgressRunnable&lt;T&gt; operation, final String displayName, boolean includeDetailLabel)</code>
</li>
                    
<li>
<code>public static void showProgressDialogAndRun(Runnable operation, ProgressHandle progress, boolean includeDetailLabel)</code>
</li>
                    
<li>
<code>public static RequestProcessor.Task showProgressDialogAndRunLater(Runnable operation, ProgressHandle progress, boolean includeDetailLabel)</code>
</li>
                
</ul>
                
<p>
                Added interface ProgressRunnable for performing background
                work, and an SPI class ProgressRunOffEdtProvider which is
                implemented by the Progress UI module.
            </p>
        
</p>
</li>
<!--Checking date 2010-1-8 with count of newer 2--><!--year ok-->
<li>Jan 8 '10 <a href="apichanges.html#spi">SPI added</a>
<p>
            
<p>
                An internal SPI package was exposed. Normal modules should not
                need to access this package.
            </p>
        
</p>
</li>
<!--Checking date 2009-11-2 with count of newer 3--><!--year ok-->
<li>Nov 2 '09 <a href="apichanges.html#ProgressUtils"><code>ProgressUtils</code> class with <code>runOffEventDispatchThread</code> methods was added.</a>
<p>
<code>ProgressUtils</code> class with <code>runOffEventDispatchThread</code> methods
        was added. These methods allow movement of operations out of AWT thread while blocking UI.
        </p>
</li>
<!--Checking date 2006-10-23 with count of newer 4--><!--year ok-->
<li>Oct 23 '06 <a href="apichanges.html#suspend">Add <code>ProgressHandle.suspend(String)</code> method for visual suspend of a running task.</a>
<p>
            
<p>Adding <code>suspend(String)</code>  to <code>ProgressHandle</code> class. 
            Any progress event coming after this call wakes up the progress bar to previous state. </p> 
            
<p>
           Currently running task can switch to silent suspend mode where the progress bar stops moving, hides completely or partially. 
           The exact UI behaviour is undefined. </p>
           
<p>
        Useful to make progress in status bar less intrusive for very long running tasks, eg. running an ant script that executes user application, debugs user application etc.
            </p>
        
</p>
</li>
<!--Checking date 2006-8-3 with count of newer 5--><!--Skipped as the amount of changes is too big-->
<!--Checking date 2006-7-24 with count of newer 6--><!--Skipped as the amount of changes is too big-->
<!--Checking date 2005-11-25 with count of newer 7--><!--Skipped as the amount of changes is too big-->
<!--Checking date 2005-10-19 with count of newer 8--><!--Skipped as the amount of changes is too big-->
<!--Checking date 2005-9-26 with count of newer 9--><!--Skipped as the amount of changes is too big-->
<!--Checking date 2005-5-4 with count of newer 10--><!--Skipped as the amount of changes is too big-->
</ul>
<h3>Use Cases</h3>
<answer id="arch-usecases">
    
<h5>Basic usage</h5>

<p>There are 3 types of progress indication:</p>

<ul>

<li>1. indefinite when it's not known how much time will be needed to complete</li>

<li>2. definite with time estimate for completion (UI shows time that remains)</li>

<li>3. definite without time estimate where the UI shows percentage completed.</li>

</ul>

<p>
The default location of the progress indication is the status bar which aggregates all
tasks running in the IDE that show progress. However it's possible to exclude the task from the default location 
and show the progress in one's custom dialog component. In such a case the same task should not appear in the status line component as well.
</p>

<p>
It's possible to request cancelling the task from status line progress aggregator if the task allows cancelling.
</p> 


<p>
Progress tasks that get started as a result of explicit user action takes precedence in the status line
docked component over tasks that are triggered by the system. (say filesystem refresh for example)
</p>
  
<p> The most common usecase of the API looks like this: </p>
  
<pre xml:space="preserve">
ProgressHandle handle = ProgressHandleFactory.creatHandle("My custom task");
...
// we have 100 workunits
// at this point the task appears in status bar.
handle.start(100);
...
handle.progress(10);
...
handle.progress("half way through", 50);
...
handle.progress(99);
// at this point the task is finished and removed from status bar
// it's not realy necessary to count all the way to the limit, finish can be called earlier.
// however it has to be called at the end of the processing.
handle.finish();
</pre>

   
<h5>Advanced Usage</h5>

<p>In case your usage of the API </p>

<ul>

<li>spans across multiple independent modules, </li>

<li>requires adjusting of number of workunits or </li>

<li>triggers additional action based on the current progress</li>

</ul>

<p>
then you should consider using the aggregating version of APIs which is similar to the 
simple APIs but has distinctive differences and additions that allow for more complex scenarios.
</p>

<p>
It allows to compose the progress bar from 1+ independent sources, all sharing proportional piece
of the progress bar. Additionally you can monitor the task's overall progress from one central place and possibly
add more contributing sources of the progress during processing.
</p>

<pre xml:space="preserve">
        // let's have a factory for client code that performs some part of the job to be done..
        Lookup.Result res = Lookup.getDefault().lookup(new LookupTemplate(MyWorkerFactory.class));
        Iterator it = res.allInstances().iterator();
        ProgressContributor[] contribs = new ProgressContributor[res.allInstances().size()];
        int i = 0;
        while (it.hasNext()) {
            MyWorkerFactory prov = (MyWorkerFactory)it.next();
            contribs[i] = AggregateProgressFactory.createProgressContributor("Module X contribution");
            MyWorker worker = prov.createWorker(contribs[i]);
            //... snip ... do something with the worker..
            i = i + 1;
        }
        AggregateProgressHandle handle = AggregateProgressFactory.createHandle("My Task", contribs, null, null);
        // non-cancellable and with out output link.
        
        // calling start() at the time when the actual long running task starts processing
        handle.start("here we go");
        // ...snip...
        // now the individual MyWorker instances log their progress.
        // possibly in other threads too..
        // ... snip...
        // 
        if (myConditionThatSpawnsAnotherContributor()) {
            ProgressContributor cont = AggregateProgressFactory.createProgressContributor("Additional exceptional contribution");
            handle.addContributor(cont);
            // ... snip ...
        }
        
        // the task is finished when all the ProgressContributors finish..
</pre>

   
 
</answer>
<h3>Exported Interfaces</h3>
          
                This table lists all of the module exported APIs 
                with 
                defined stability classifications. It is generated
                based on answers to questions about the architecture 
                of the module. <a href="architecture-summary.html">Read them all</a>...

                
                <a name="group-java">
<h5>Group of java interfaces</h5>
</a>
<table cellpadding="1" cellspacing="0" border="0" class="tablebg" width="100%">
<tr>
<td>
<table border="0" cellpadding="3" cellspacing="1" width="100%">
<tr class="tablersh">
<td align="CENTER" width="25%"><span class="titlectable">Interface Name</span></td><td align="CENTER" width="10%"><span class="titlectable">In/Out</span></td><td align="CENTER" width="10%"><span class="titlectable">Stability</span></td><td align="CENTER"><span class="titlectable">Specified in What Document?</span></td>
</tr>
<tr class="tabler">
<td>Progress</td><td>Exported</td><td><a href="http://wiki.netbeans.org/API_Stability#Official">Official</a></td><td><a name="java-Progress"><a href="../org-netbeans-api-progress/index.html">../org-netbeans-api-progress/index.html</a>
<p></p>
</a></td>
</tr>
</table>
</td>
</tr>
</table>
<p></p>
<h3>Implementation Details</h3>
<h5>What do other modules need to do to declare a dependency on this one, in addition to or instead of a plain module dependency?</h5>
  
<p>
   Nothing.
  </p>
 
<p>
                Read more about the implementation in the <a href="architecture-summary.html">answers to 
                architecture questions</a>.
            </p></div>
</div>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li class="navBarCell1Rev">Overview</li>
<li>Package</li>
<li>Class</li>
<li>Use</li>
<li><a href="overview-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-files/index-1.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>org.netbeans.api.progress/1 1.34 </em></div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev</li>
<li>Next</li>
</ul>
<ul class="navList">
<li><a href="index.html?overview-summary.html" target="_top">Frames</a></li>
<li><a href="overview-summary.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><span class="footnote">Built on May 24 2013.&nbsp;&nbsp;|&nbsp;&nbsp;Portions         Copyright 1997-2013 Oracle. All rights reserved.</span></small></p>
</body>
</html>
